<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>  编译 Tensorflow 1.10 + CUDA9.2 + MKL
 | Solarck</title>

    <meta name="author" content="Kevin Chen"/>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"/>
    <link rel="stylesheet" href="https://www.solarck.com/theme/css/jquery.mglass.css"/>
    <link rel="stylesheet" href="https://www.solarck.com/theme/css/pygment-solarized-dark.css"/>
    <link rel="stylesheet" href="https://www.solarck.com/theme/css/style.css"/>

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Istok+Web' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'/>
      <link href='https://fonts.googleapis.com/css?family=Expletus+Sans' rel='stylesheet' type='text/css'>


    <link rel="icon" href="https://www.solarck.com/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://www.solarck.com/favicon.ico" type="image/x-icon">

    <!-- Feeds -->
      <link href="https://www.solarck.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Solarck - All posts - Atom Feed"/>


  </head>

  <body>

    <div class="container">

      <div class="page-header">
          <a href="https://www.solarck.com" class="avatar-container pull-left">
            <div class="avatar ">
              <div class="side"><img src="https://www.solarck.com/static/avatar.jpg" class="img-responsive"/></div>
            </div>
          </a>
        <h1><a href="https://www.solarck.com">Solarck</a> <small>金融民工与程序猿的结合体</small></h1>
      </div>

      <nav class="navbar navbar-default">

        <!-- Hamburger menu for mobile -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#plumage-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://www.solarck.com" title="金融民工与程序猿的结合体">Solarck</a>
        </div>

        <!-- Menus and search forms -->
        <div class="collapse navbar-collapse" id="plumage-navbar-collapse-1">

          <ul class="nav navbar-nav">
<li  class="active" >
                  <a href="https://www.solarck.com/category/it-bi-ji.html">IT 笔记 <span class="sr-only">(current)</span></a>
                </li>
<li >
                  <a href="https://www.solarck.com/category/itbi-ji.html">IT笔记</a>
                </li>
<li >
                  <a href="https://www.solarck.com/category/jin-rong-bi-ji.html">金融笔记</a>
                </li>
<li >
                  <a href="https://www.solarck.com/pages/aboutme.html">关于我</a>
                </li>
<li >
                  <a href="https://www.solarck.com/pages/resume.html">简历</a>
                </li>

          </ul>


            <form class="navbar-form navbar-right" role="search" action="https://www.solarck.com/search.html" onsubmit="return validateForm(this.elements['q'].value);">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" name="q" id="tipue_search_input" class="form-control search-query" placeholder="Search" required />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fa
                        fa-search fa-fw"></i></button>
                  </span>
                </div>
              </div>
            </form>

        </div>

      </nav>

    </div>


    <div class="container main">


      <div class="row">
        <div class=" col-md-9  ">
  <h1>
    <a href="https://www.solarck.com/compile-tensorflow-gpu.html" rel="bookmark" title="Permalink to 编译 Tensorflow 1.10 + CUDA9.2 + MKL">编译 Tensorflow 1.10 + <span class="caps">CUDA9</span>.2 + <span class="caps">MKL</span></a>
  </h1>
        </div>
      </div>

      <div class="row">


        <div class=" col-md-9 " id="content" role="main">
  

  <div>
    <p>我的电脑系统是基于 Archlinux 的 Manjaro，软件包更新的比较激进，很早就已经是 <span class="caps">CUDA</span> 9.2 了，而目前 Tensorflow 的官方编译版本对 <span class="caps">CUDA</span> 的支持还只停留在 <span class="caps">CUDA</span> 9.0。由于还不太会用 mxnet 和 pytorch，这时倍加想念 Keras 的简单。最近忙里偷闲研究了一下编译安装&nbsp;Tensorflow，发现还挺简单的，把成功的喜悦分享出来，也供有需要的朋友参考。</p>
<h1 id="cha-kan-xi-tong-xin-xi">查看系统信息</h1>
<h3 id="cha-kan-xi-tong-jia-gou-he-fa-xing-ban-ben">查看系统架构和发行版本</h3>
<p>我用的 Manjaro&nbsp;x86_64</p>
<p><code>uname -m &amp;&amp; cat /etc/*release</code></p>
<div class="highlight"><pre><span></span>x86_64
Manjaro Linux
DISTRIB_ID=ManjaroLinux
DISTRIB_RELEASE=17.1.11
DISTRIB_CODENAME=Hakoila
DISTRIB_DESCRIPTION="Manjaro Linux"
Manjaro Linux
NAME="Manjaro Linux"
ID=manjaro
PRETTY_NAME="Manjaro Linux"
ANSI_COLOR="1;32"
HOME_URL="https://www.manjaro.org/"
SUPPORT_URL="https://www.manjaro.org/"
BUG_REPORT_URL="https://bugs.manjaro.org/"
</pre></div>
<h3 id="cha-kan-cpu-zhi-chi-de-zhi-ling-ji">查看 <span class="caps">CPU</span>&nbsp;支持的指令集</h3>
<p>嗯，这个貌似没什么用</p>
<p><code>cat /proc/cpuinfo |grep -m1 flags |cut -f2 -d":"</code></p>
<div class="highlight"><pre><span></span>fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc cpuid aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm 3dnowprefetch cpuid_fault epb cat_l3 cdp_l3 invpcid_single pti intel_ppin ssbd ibrs ibpb stibp tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm cqm rdt_a rdseed adx smap intel_pt xsaveopt cqm_llc cqm_occup_llc cqm_mbm_total cqm_mbm_local dtherm ida arat pln pts
</pre></div>
<h3 id="cha-kan-python-huan-jing">查看 Python&nbsp;环境</h3>
<p>我用 Anaconda 构建的虚拟环境，Python 3.6.6。这里要注意记住<code>base environment</code>环境路径。</p>
<p><code>conda info</code></p>
<div class="highlight"><pre><span></span>     active environment : None
       user config file : /home/kevin/.condarc
 populated config files : /home/kevin/.condarc
          conda version : 4.5.8
    conda-build version : 3.12.0
         python version : 3.6.6.final.0
       base environment : /opt/Anaconda3  (writable)
           channel URLs : https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/linux-64
                          https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/noarch
                          https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/linux-64
                          https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/noarch
                          https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/linux-64
                          https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/noarch
          package cache : /opt/Anaconda3/pkgs
                          /home/kevin/.conda/pkgs
       envs directories : /opt/Anaconda3/envs
                          /home/kevin/.conda/envs
               platform : linux-64
             user-agent : conda/4.5.8 requests/2.19.1 CPython/3.6.6 Linux/4.18.0-1-MANJARO manjaro/17.1.11 glibc/2.27
                UID:GID : 1000:1000
             netrc file : None
           offline mode : False
</pre></div>
<h3 id="cha-kan-gpu-xin-xi">查看 <span class="caps">GPU</span>&nbsp;信息</h3>
<p>如果你执行不了下面这个命令，那么证明你的驱动装的有问题，要用闭源的 Nvidia 驱动，不要用开源的。Manjaro&nbsp;安装驱动太简单了，就不详细说了。</p>
<p>其次你还要去<a href="https://developer.nvidia.com/cuda-gpus"><span class="caps">CUDA</span> <span class="caps">GPU</span></a>根据显卡型号查询你 <span class="caps">GPU</span> 的算力，这个算力后面会用到。如果你的显卡是 Nvidia 1000 系列，且型号大于 1050，那么算力就是&nbsp;6.1。</p>
<p><code>nvidia-smi</code></p>
<div class="highlight"><pre><span></span>+-----------------------------------------------------------------------------+
| NVIDIA-SMI 396.45                 Driver Version: 396.45                    |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  GeForce GTX 108...  Off  | 00000000:03:00.0  On |                  N/A |
|  0%   59C    P5    26W / 250W |    672MiB / 11170MiB |      3%      Default |
+-------------------------------+----------------------+----------------------+

+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID   Type   Process name                             Usage      |
|=============================================================================|
|    0       625      G   /usr/lib/xorg-server/Xorg                    370MiB |
|    0      3527      G   /usr/bin/kwin_x11                             53MiB |
|    0      3569      G   /usr/bin/krunner                               2MiB |
|    0      3573      G   /usr/bin/plasmashell                          99MiB |
|    0      6489      G   ...-token=3E0EB0339C426519FCEB41A77A4FE74E    75MiB |
|    0      9846      G   /opt/Anaconda3/bin/python                     28MiB |
|    0     13026      G   ...-token=F6A861CA29AB37BD6D50C064EC6A95F0    40MiB |
+-----------------------------------------------------------------------------+
</pre></div>
<h1 id="an-zhuang-bian-yi-yi-lai_1">安装编译依赖</h1>
<h3 id="an-zhuang-xian-qia-xiang-guan-yi-lai">安装显卡相关依赖</h3>
<div class="highlight"><pre><span></span>yaourt -S --needed linux418-nvidia cuda cudnn
</pre></div>
<p>安装好之后你还需要记住 cuDNN&nbsp;的版本和路径</p>
<p><code>yaourt -Ql cudnn |grep libcudnn.so</code></p>
<div class="highlight"><pre><span></span>cudnn /opt/cuda/lib64/libcudnn.so
cudnn /opt/cuda/lib64/libcudnn.so.7
cudnn /opt/cuda/lib64/libcudnn.so.7.1.4
</pre></div>
<p>一般来说 <span class="caps">CUDA</span> 和 cuDNN 的动态链接库文件都在同一个路径下，版本的话，自己安装的什么版本心里没点 B&nbsp;数吗？</p>
<p><code>yaourt -Ql cuda |grep libcudart.so</code></p>
<div class="highlight"><pre><span></span>cuda /opt/cuda/lib64/libcudart.so
cuda /opt/cuda/lib64/libcudart.so.9.2
cuda /opt/cuda/lib64/libcudart.so.9.2.148
cuda /usr/share/man/man7/libcudart.so.7.gz
</pre></div>
<p>你还应该确认 <span class="caps">CUDA</span>、cuDNN、Python 的执行文件路径或库文件路径已经加入到了<code>$PATH</code>变量中</p>
<p><code>echo $PATH</code></p>
<div class="highlight"><pre><span></span>/opt/bin:/opt/cuda/bin:/opt/Anaconda3/bin:/opt/android-sdk/platform-tools:/opt/android-sdk/tools:/opt/android-sdk/tools/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/usr/local/sbin:/usr/local/bin:/usr/bin:/opt/android-sdk/platform-tools:/opt/android-sdk/tools:/opt/android-sdk/tools/bin:/opt/cuda/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl
</pre></div>
<h3 id="an-zhuang-bian-yi-gong-ju">安装编译工具</h3>
<p>Tensorflow 需要使用 bazel 构建，gcc7 编译，当前我的系统 gcc 版本是 8.1 我已经帮你试过了，Tensorflow 不允许 gcc 版本高于&nbsp;7。</p>
<div class="highlight"><pre><span></span>yaourt -S bazel gcc7 gcc7-libs
</pre></div>
<h3 id="xia-zai-yuan-ma">下载源码</h3>
<div class="highlight"><pre><span></span>git clone https://github.com/tensorflow/tensorflow
</pre></div>
<h3 id="xuan-ze-an-zhuang-ban-ben">选择安装版本</h3>
<p>当前稳定版本为 1.9，1.10 处于 rc2&nbsp;阶段，编译哪个版本自己选择。</p>
<div class="highlight"><pre><span></span>cd tensorflow
git checkout r1.10
</pre></div>
<h1 id="bian-yi-an-zhuang_1">编译安装</h1>
<h3 id="bian-yi-pei-zhi">编译配置</h3>
<p>如没有特殊要求，按照我的选择就可以，注意路径要换成自己的。</p>
<div class="highlight"><pre><span></span><span class="err">$</span> <span class="p">.</span><span class="o">/</span><span class="n">configure</span>
<span class="n">Extracting</span> <span class="n">Bazel</span> <span class="n">installation</span><span class="p">...</span>
<span class="nl">WARNING</span><span class="p">:</span> <span class="o">--</span><span class="n">batch</span> <span class="n">mode</span> <span class="n">is</span> <span class="n">deprecated</span><span class="p">.</span> <span class="n">Please</span> <span class="n">instead</span> <span class="n">explicitly</span> <span class="n">shut</span> <span class="n">down</span> <span class="n">your</span> <span class="n">Bazel</span> <span class="n">server</span> <span class="n">using</span> <span class="n">the</span> <span class="n">command</span> <span class="s">"bazel shutdown"</span><span class="p">.</span>
<span class="n">You</span> <span class="n">have</span> <span class="n">bazel</span> <span class="mf">0.15.1</span><span class="o">-</span> <span class="p">(@</span><span class="n">non</span><span class="o">-</span><span class="n">git</span><span class="p">)</span> <span class="n">installed</span><span class="p">.</span>
<span class="n">Please</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">location</span> <span class="n">of</span> <span class="n">python</span><span class="p">.</span> <span class="p">[</span><span class="n">Default</span> <span class="n">is</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">Anaconda3</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">python</span><span class="p">]</span><span class="o">:</span>


<span class="n">Found</span> <span class="n">possible</span> <span class="n">Python</span> <span class="n">library</span> <span class="nl">paths</span><span class="p">:</span>
  <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">Anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span>
<span class="n">Please</span> <span class="n">input</span> <span class="n">the</span> <span class="n">desired</span> <span class="n">Python</span> <span class="n">library</span> <span class="n">path</span> <span class="n">to</span> <span class="n">use</span><span class="p">.</span>  <span class="n">Default</span> <span class="n">is</span> <span class="p">[</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">Anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="p">]</span>

<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">jemalloc</span> <span class="n">as</span> <span class="n">malloc</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">Y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span><span class="o">:</span>
<span class="n">jemalloc</span> <span class="n">as</span> <span class="n">malloc</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">Google</span> <span class="n">Cloud</span> <span class="n">Platform</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">Y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span><span class="o">:</span> <span class="n">n</span>
<span class="n">No</span> <span class="n">Google</span> <span class="n">Cloud</span> <span class="n">Platform</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">Hadoop</span> <span class="n">File</span> <span class="n">System</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">Y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span><span class="o">:</span> <span class="n">n</span>
<span class="n">No</span> <span class="n">Hadoop</span> <span class="n">File</span> <span class="n">System</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">Amazon</span> <span class="n">AWS</span> <span class="n">Platform</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">Y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span><span class="o">:</span> <span class="n">n</span>
<span class="n">No</span> <span class="n">Amazon</span> <span class="n">AWS</span> <span class="n">Platform</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">Apache</span> <span class="n">Kafka</span> <span class="n">Platform</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">Y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span><span class="o">:</span> <span class="n">n</span>
<span class="n">No</span> <span class="n">Apache</span> <span class="n">Kafka</span> <span class="n">Platform</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">XLA</span> <span class="n">JIT</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]</span><span class="o">:</span>
<span class="n">No</span> <span class="n">XLA</span> <span class="n">JIT</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">GDR</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]</span><span class="o">:</span>
<span class="n">No</span> <span class="n">GDR</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">VERBS</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]</span><span class="o">:</span>
<span class="n">No</span> <span class="n">VERBS</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">OpenCL</span> <span class="n">SYCL</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]</span><span class="o">:</span>
<span class="n">No</span> <span class="n">OpenCL</span> <span class="n">SYCL</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">CUDA</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]</span><span class="o">:</span> <span class="n">y</span>
<span class="n">CUDA</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Please</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">CUDA</span> <span class="n">SDK</span> <span class="n">version</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">use</span><span class="p">.</span> <span class="p">[</span><span class="n">Leave</span> <span class="n">empty</span> <span class="n">to</span> <span class="k">default</span> <span class="n">to</span> <span class="n">CUDA</span> <span class="mf">9.0</span><span class="p">]</span><span class="o">:</span> <span class="mf">9.2</span>


<span class="n">Please</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">location</span> <span class="n">where</span> <span class="n">CUDA</span> <span class="mf">9.2</span> <span class="n">toolkit</span> <span class="n">is</span> <span class="n">installed</span><span class="p">.</span> <span class="n">Refer</span> <span class="n">to</span> <span class="n">README</span><span class="p">.</span><span class="n">md</span> <span class="k">for</span> <span class="n">more</span> <span class="n">details</span><span class="p">.</span> <span class="p">[</span><span class="n">Default</span> <span class="n">is</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">cuda</span><span class="p">]</span><span class="o">:</span>


<span class="n">Please</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">cuDNN</span> <span class="n">version</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">use</span><span class="p">.</span> <span class="p">[</span><span class="n">Leave</span> <span class="n">empty</span> <span class="n">to</span> <span class="k">default</span> <span class="n">to</span> <span class="n">cuDNN</span> <span class="mf">7.0</span><span class="p">]</span><span class="o">:</span> <span class="mi">7</span>


<span class="n">Please</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">location</span> <span class="n">where</span> <span class="n">cuDNN</span> <span class="mi">7</span> <span class="n">library</span> <span class="n">is</span> <span class="n">installed</span><span class="p">.</span> <span class="n">Refer</span> <span class="n">to</span> <span class="n">README</span><span class="p">.</span><span class="n">md</span> <span class="k">for</span> <span class="n">more</span> <span class="n">details</span><span class="p">.</span> <span class="p">[</span><span class="n">Default</span> <span class="n">is</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">cuda</span><span class="p">]</span><span class="o">:</span>


<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">TensorRT</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]</span><span class="o">:</span>
<span class="n">No</span> <span class="n">TensorRT</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Please</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">NCCL</span> <span class="n">version</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">use</span><span class="p">.</span> <span class="n">If</span> <span class="n">NCCL</span> <span class="mf">2.2</span> <span class="n">is</span> <span class="n">not</span> <span class="n">installed</span><span class="p">,</span> <span class="n">then</span> <span class="n">you</span> <span class="n">can</span> <span class="n">use</span> <span class="n">version</span> <span class="mf">1.3</span> <span class="n">that</span> <span class="n">can</span> <span class="n">be</span> <span class="n">fetched</span> <span class="n">automatically</span> <span class="n">but</span> <span class="n">it</span> <span class="n">may</span> <span class="n">have</span> <span class="n">worse</span> <span class="n">performance</span> <span class="n">with</span> <span class="n">multiple</span> <span class="n">GPUs</span><span class="p">.</span> <span class="p">[</span><span class="n">Default</span> <span class="n">is</span> <span class="mf">2.2</span><span class="p">]</span><span class="o">:</span> <span class="mf">1.3</span>


<span class="n">Please</span> <span class="n">specify</span> <span class="n">a</span> <span class="n">list</span> <span class="n">of</span> <span class="n">comma</span><span class="o">-</span><span class="n">separated</span> <span class="n">Cuda</span> <span class="n">compute</span> <span class="n">capabilities</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">build</span> <span class="n">with</span><span class="p">.</span>
<span class="n">You</span> <span class="n">can</span> <span class="n">find</span> <span class="n">the</span> <span class="n">compute</span> <span class="n">capability</span> <span class="n">of</span> <span class="n">your</span> <span class="n">device</span> <span class="nl">at</span><span class="p">:</span> <span class="nl">https</span><span class="p">:</span><span class="c1">//developer.nvidia.com/cuda-gpus.</span>
<span class="n">Please</span> <span class="n">note</span> <span class="n">that</span> <span class="n">each</span> <span class="n">additional</span> <span class="n">compute</span> <span class="n">capability</span> <span class="n">significantly</span> <span class="n">increases</span> <span class="n">your</span> <span class="n">build</span> <span class="n">time</span> <span class="n">and</span> <span class="n">binary</span> <span class="n">size</span><span class="p">.</span> <span class="p">[</span><span class="n">Default</span> <span class="nl">is</span><span class="p">:</span> <span class="mf">6.1</span><span class="p">]</span>


<span class="n">Do</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">use</span> <span class="n">clang</span> <span class="n">as</span> <span class="n">CUDA</span> <span class="n">compiler</span><span class="o">?</span> <span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]</span><span class="o">:</span>
<span class="n">nvcc</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span> <span class="n">as</span> <span class="n">CUDA</span> <span class="n">compiler</span><span class="p">.</span>

<span class="n">Please</span> <span class="n">specify</span> <span class="n">which</span> <span class="n">gcc</span> <span class="n">should</span> <span class="n">be</span> <span class="n">used</span> <span class="n">by</span> <span class="n">nvcc</span> <span class="n">as</span> <span class="n">the</span> <span class="n">host</span> <span class="n">compiler</span><span class="p">.</span> <span class="p">[</span><span class="n">Default</span> <span class="n">is</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">gcc</span><span class="o">-</span><span class="mi">7</span><span class="p">]</span><span class="o">:</span>


<span class="n">Do</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">build</span> <span class="n">TensorFlow</span> <span class="n">with</span> <span class="n">MPI</span> <span class="n">support</span><span class="o">?</span> <span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]</span><span class="o">:</span>
<span class="n">No</span> <span class="n">MPI</span> <span class="n">support</span> <span class="n">will</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">for</span> <span class="n">TensorFlow</span><span class="p">.</span>

<span class="n">Please</span> <span class="n">specify</span> <span class="n">optimization</span> <span class="n">flags</span> <span class="n">to</span> <span class="n">use</span> <span class="n">during</span> <span class="n">compilation</span> <span class="n">when</span> <span class="n">bazel</span> <span class="n">option</span> <span class="s">"--config=opt"</span> <span class="n">is</span> <span class="n">specified</span> <span class="p">[</span><span class="n">Default</span> <span class="n">is</span> <span class="o">-</span><span class="n">march</span><span class="o">=</span><span class="n">native</span><span class="p">]</span><span class="o">:</span>


<span class="n">Would</span> <span class="n">you</span> <span class="n">like</span> <span class="n">to</span> <span class="n">interactively</span> <span class="n">configure</span> <span class="p">.</span><span class="o">/</span><span class="n">WORKSPACE</span> <span class="k">for</span> <span class="n">Android</span> <span class="n">builds</span><span class="o">?</span> <span class="p">[</span><span class="n">y</span><span class="o">/</span><span class="n">N</span><span class="p">]</span><span class="o">:</span>
<span class="n">Not</span> <span class="n">configuring</span> <span class="n">the</span> <span class="n">WORKSPACE</span> <span class="k">for</span> <span class="n">Android</span> <span class="n">builds</span><span class="p">.</span>

<span class="n">Preconfigured</span> <span class="n">Bazel</span> <span class="n">build</span> <span class="n">configs</span><span class="p">.</span> <span class="n">You</span> <span class="n">can</span> <span class="n">use</span> <span class="n">any</span> <span class="n">of</span> <span class="n">the</span> <span class="n">below</span> <span class="n">by</span> <span class="n">adding</span> <span class="s">"--config=&lt;&gt;"</span> <span class="n">to</span> <span class="n">your</span> <span class="n">build</span> <span class="n">command</span><span class="p">.</span> <span class="n">See</span> <span class="n">tools</span><span class="o">/</span><span class="n">bazel</span><span class="p">.</span><span class="n">rc</span> <span class="k">for</span> <span class="n">more</span> <span class="n">details</span><span class="p">.</span>
        <span class="o">--</span><span class="n">config</span><span class="o">=</span><span class="n">mkl</span>            <span class="err">#</span> <span class="n">Build</span> <span class="n">with</span> <span class="n">MKL</span> <span class="n">support</span><span class="p">.</span>
        <span class="o">--</span><span class="n">config</span><span class="o">=</span><span class="n">monolithic</span>     <span class="err">#</span> <span class="n">Config</span> <span class="k">for</span> <span class="n">mostly</span> <span class="k">static</span> <span class="n">monolithic</span> <span class="n">build</span><span class="p">.</span>
<span class="n">Configuration</span> <span class="n">finished</span>
</pre></div>
<h3 id="kai-shi-bian-yi">开始编译</h3>
<p><code>--config=mkl</code>可以选择不添加，Intel <span class="caps">CPU</span>&nbsp;加了也没什么坏处。</p>
<div class="highlight"><pre><span></span>bazel build --config=opt --config=cuda --config=mkl //tensorflow/tools/pip_package:build_pip_package
</pre></div>
<p>最终耗时 50&nbsp;分钟编译完成</p>
<div class="highlight"><pre><span></span><span class="n">INFO</span><span class="o">:</span> <span class="n">Elapsed</span> <span class="n">time</span><span class="o">:</span> <span class="mf">3049.910</span><span class="n">s</span><span class="o">,</span> <span class="n">Critical</span> <span class="n">Path</span><span class="o">:</span> <span class="mf">248.40</span><span class="n">s</span>
<span class="n">INFO</span><span class="o">:</span> <span class="mi">8105</span> <span class="n">processes</span><span class="o">:</span> <span class="mi">8105</span> <span class="n">local</span><span class="o">.</span>
<span class="n">INFO</span><span class="o">:</span> <span class="n">Build</span> <span class="n">completed</span> <span class="n">successfully</span><span class="o">,</span> <span class="mi">8292</span> <span class="n">total</span> <span class="n">actions</span>
</pre></div>
<h3 id="dao-chu-wei-wheel-wen-jian">导出为 wheel&nbsp;文件</h3>
<div class="highlight"><pre><span></span>$ bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg
$ ls -lh /tmp/tensorflow_pkg
-rw-r--r-- <span class="m">1</span> kevin kevin 135M Jul <span class="m">30</span> <span class="m">14</span>:03 tensorflow-1.10.0rc1-cp36-cp36m-linux_x86_64.whl
</pre></div>
<h3 id="pip-an-zhuang">pip&nbsp;安装</h3>
<div class="highlight"><pre><span></span>pip install /tmp/tensorflow_pkg/tensorflow-1.10.0rc1-cp36-cp36m-linux_x86_64.whl
</pre></div>
<h1 id="ce-shi_1">测试</h1>
<p>安装好之后，可以通过下面两种不同的方法查看是否已经开启了 <span class="caps">GPU</span>。</p>
<h3 id="fang-fa-yi">方法一</h3>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tensorflow</span> <span class="kn">as</span> <span class="nn">tf</span>
<span class="k">with</span> <span class="n">tf</span><span class="o">.</span><span class="n">device</span><span class="p">(</span><span class="s1">'/gpu:0'</span><span class="p">):</span>
  <span class="n">a</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">'a'</span><span class="p">)</span>
  <span class="n">b</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">'b'</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="n">sess</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">Session</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">ConfigProto</span><span class="p">(</span><span class="n">log_device_placement</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
</pre></div>
<h3 id="fang-fa-er">方法二</h3>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">tf</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">gpu_device_name</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">'Default GPU Device: {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">gpu_device_name</span><span class="p">()))</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Please install GPU version of TF"</span><span class="p">)</span>
</pre></div>
<h1 id="can-kao_1">参考</h1>
<p><a href="https://www.tensorflow.org/install/install_sources?hl=zh-cn">从源代码安装&nbsp;TensorFlow</a></p>
  </div>


    <div class="comments">
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'solarck';
        var disqus_identifier = "compile-tensorflow-gpu.html";
        var disqus_title = "编译 Tensorflow 1.10 + CUDA9.2 + MKL";
        var disqus_url = "https://www.solarck.com/compile-tensorflow-gpu.html";
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus</a>.</noscript>
    </div>

        </div>

          <div class="col-md-3">
  <div class="well">

    <p><abbr title="2018-07-30T18:43:00+08:00"><i class="fa fa-calendar"></i> July 30, 2018</abbr></p>

      <p><address>
        <i class="fa fa-user"></i> 作者:
          <a href="https://www.solarck.com/author/kevin-chen.html" rel="author">Kevin Chen</a>
      </address></p>

    <hr/>

      <p>
              <a href="https://www.solarck.com/category/it-bi-ji.html" rel="tag"
                  data-toggle="tooltip" class="label label-info"
                  title="17 articles in this category">IT 笔记</a>
            <a href="/tag/tensorflow.html" data-toggle="tooltip"
      class="label label-default"
      title="1 article with this tag">tensorflow</a>
            <a href="/tag/cuda.html" data-toggle="tooltip"
      class="label label-default"
      title="1 article with this tag">cuda</a>
            <a href="/tag/gpu.html" data-toggle="tooltip"
      class="label label-default"
      title="1 article with this tag">GPU</a>
      </p>
      <hr/>


      <nav>
        <ul class="pager">
          <li class="previous ">
            <a  href="https://www.solarck.com/systemd-wait-network-online.html" title="解决 Haproxy 用 Systemd 启动失败的问题"  rel="prev">
              <span aria-hidden="true">←</span> 旧文章
            </a>
          </li>
          <li class="next ">
            <a  href="https://www.solarck.com/upgrade-lede-to-1806.html" title="升级 Openwrt/LEDE 大版本至 18.06"  rel="next">
              新文章 <span aria-hidden="true">→</span>
            </a>
          </li>
        </ul>
      </nav>
    
        <center><h4><b>目录</b></h4></center>
        <nav class="toc">
            <div id="toc"><ul><li><a class="toc-href" href="#cha-kan-xi-tong-xin-xi" title="查看系统信息">查看系统信息</a><ul><li><a class="toc-href" href="#cha-kan-xi-tong-jia-gou-he-fa-xing-ban-ben" title="查看系统架构和发行版本">查看系统架构和发行版本</a></li><li><a class="toc-href" href="#cha-kan-cpu-zhi-chi-de-zhi-ling-ji" title="查看 CPU&nbsp;支持的指令集">查看 CPU&nbsp;支持的指令集</a></li><li><a class="toc-href" href="#cha-kan-python-huan-jing" title="查看 Python&nbsp;环境">查看 Python&nbsp;环境</a></li><li><a class="toc-href" href="#cha-kan-gpu-xin-xi" title="查看 GPU&nbsp;信息">查看 GPU&nbsp;信息</a></li></ul></li><li><a class="toc-href" href="#an-zhuang-bian-yi-yi-lai_1" title="安装编译依赖">安装编译依赖</a><ul><li><a class="toc-href" href="#an-zhuang-xian-qia-xiang-guan-yi-lai" title="安装显卡相关依赖">安装显卡相关依赖</a></li><li><a class="toc-href" href="#an-zhuang-bian-yi-gong-ju" title="安装编译工具">安装编译工具</a></li><li><a class="toc-href" href="#xia-zai-yuan-ma" title="下载源码">下载源码</a></li><li><a class="toc-href" href="#xuan-ze-an-zhuang-ban-ben" title="选择安装版本">选择安装版本</a></li></ul></li><li><a class="toc-href" href="#bian-yi-an-zhuang_1" title="编译安装">编译安装</a><ul><li><a class="toc-href" href="#bian-yi-pei-zhi" title="编译配置">编译配置</a></li><li><a class="toc-href" href="#kai-shi-bian-yi" title="开始编译">开始编译</a></li><li><a class="toc-href" href="#dao-chu-wei-wheel-wen-jian" title="导出为 wheel&nbsp;文件">导出为 wheel&nbsp;文件</a></li><li><a class="toc-href" href="#pip-an-zhuang" title="pip&nbsp;安装">pip&nbsp;安装</a></li></ul></li><li><a class="toc-href" href="#ce-shi_1" title="测试">测试</a><ul><li><a class="toc-href" href="#fang-fa-yi" title="方法一">方法一</a></li><li><a class="toc-href" href="#fang-fa-er" title="方法二">方法二</a></li></ul></li><li><a class="toc-href" href="#can-kao_1" title="参考">参考</a></li></ul></div>
        </nav>

  </div>
            
          </div>

      </div>

    </div>

    <!-- TODO: make footer sticky -->
    <footer class="container-fluid">
      <div class="container">
        <div class="row">

            <div class="col-md-2">
            </div>
            <div class="col-md-2">
                <h5>链接</h5>
                <ul class="list-unstyled">
                  <li>  <a href="http://getpelican.com/">
      <img src="https://besticon-demo.herokuapp.com/icon?url=getpelican.com&size=16" width="16" height="16" class="icon" alt="getpelican.com icon"/>
    Pelican
  </a></li>
                  <li>  <a href="http://python.org/">
      <img src="https://besticon-demo.herokuapp.com/icon?url=python.org&size=16" width="16" height="16" class="icon" alt="python.org icon"/>
    Python.org
  </a></li>
                  <li>  <a href="http://jinja.pocoo.org/">
      <img src="https://besticon-demo.herokuapp.com/icon?url=jinja.pocoo.org&size=16" width="16" height="16" class="icon" alt="jinja.pocoo.org icon"/>
    Jinja2
  </a></li>
                </ul>
            </div>

          <div class="col-md-2">
            <h5>归档</h5>
            <ul class="list-unstyled">
                <li><a href="https://www.solarck.com/categories.html"><i class="fa fa-tags"></i> Categories</a></li>
                <li><a href="https://www.solarck.com/archives.html"><i class="fa fa-calendar"></i> Dates</a></li>
                <li><a href="https://www.solarck.com/tags.html"><i class="fa fa-tag"></i> Tags</a></li>
            </ul>
          </div>

          <div class="col-md-2 text-muted">
            <h5>Copyright</h5>
            <p>© Copyright 2013-2018 Kevin Chen.</p>
          </div>
        <!--
          <div class="col-md-2 text-muted">
            <h5>Disclaimer</h5>
              <p>All opinions expressed in this site are my own personal opinions and are not endorsed by, nor do they represent the opinions of my previous, current and future employers or any of its affiliates, partners or customers.</p>
          </div>
        -->
          <div class="col-md-2">
              <h5>Feeds</h5>
              <ul class="list-unstyled">
                  <li><small><a href="https://www.solarck.com/feeds/all.atom.xml"><i class="fa fa-rss"></i> All posts (Atom)</a></small></li>
              </ul>
          </div>

        </div>
      </div>

      <h5 class="text-right"><a href="#"><i class="fa fa-arrow-up"></i> Back to top</a></h5>

      <div class="container">
        <div class="row col-md-12 text-muted text-center">
          Site generated by <a href="https://getpelican.com"> Pelican</a>.<br/>
          <a href="https://github.com/kdeldycke/plumage"> Plumage</a> theme by <a href="https://kevin.deldycke.com">Kevin Deldycke</a>.
        </div>
      </div>

    </footer>

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1337838-7', 'auto');
    ga('send', 'pageview');
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fitvids/1.1.0/jquery.fitvids.min.js"></script>
    <script src="https://www.solarck.com/theme/js/jquery.mglass.js"></script>
    <script src="https://www.solarck.com/theme/js/application.js"></script>

  </body>
</html>