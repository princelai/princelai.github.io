<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>主页 | Solarck</title>

    <meta name="author" content="Kevin Chen"/>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"/>
    <link rel="stylesheet" href="https://www.solarck.com/theme/css/jquery.mglass.css"/>
    <link rel="stylesheet" href="https://www.solarck.com/theme/css/pygment-solarized-dark.css"/>
    <link rel="stylesheet" href="https://www.solarck.com/theme/css/style.css"/>

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Istok+Web' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'/>
      <link href='https://fonts.googleapis.com/css?family=Expletus+Sans' rel='stylesheet' type='text/css'>


    <link rel="icon" href="https://www.solarck.com/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://www.solarck.com/favicon.ico" type="image/x-icon">

    <!-- Feeds -->
      <link href="https://www.solarck.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Solarck - All posts - Atom Feed"/>


  </head>

  <body>

    <div class="container">

      <div class="page-header">
          <a href="https://www.solarck.com" class="avatar-container pull-left">
            <div class="avatar ">
              <div class="side"><img src="https://www.solarck.com/static/avatar.jpg" class="img-responsive"/></div>
            </div>
          </a>
        <h1><a href="https://www.solarck.com">Solarck</a> <small>金融民工与程序猿的结合体</small></h1>
      </div>

      <nav class="navbar navbar-default">

        <!-- Hamburger menu for mobile -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#plumage-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://www.solarck.com" title="金融民工与程序猿的结合体">Solarck</a>
        </div>

        <!-- Menus and search forms -->
        <div class="collapse navbar-collapse" id="plumage-navbar-collapse-1">

          <ul class="nav navbar-nav">
<li >
                  <a href="https://www.solarck.com/category/itbi-ji.html">IT笔记</a>
                </li>
<li >
                  <a href="https://www.solarck.com/category/jin-rong-bi-ji.html">金融笔记</a>
                </li>
<li >
                  <a href="https://www.solarck.com/pages/aboutme.html">关于我</a>
                </li>
<li >
                  <a href="https://www.solarck.com/pages/resume.html">简历</a>
                </li>

          </ul>


            <form class="navbar-form navbar-right" role="search" action="https://www.solarck.com/search.html" onsubmit="return validateForm(this.elements['q'].value);">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" name="q" id="tipue_search_input" class="form-control search-query" placeholder="Search" required />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fa
                        fa-search fa-fw"></i></button>
                  </span>
                </div>
              </div>
            </form>

        </div>

      </nav>

    </div>


    <div class="container main">


      <div class="row">
        <div class=" col-md-12  ">
        </div>
      </div>

      <div class="row">


        <div class=" col-md-12 " id="content" role="main">

    <article>
      <header>
        <h2><a href="https://www.solarck.com/argparse-brief-usage.html" rel="bookmark" title="Permalink to argparse模块简要用法">argparse模块简要用法</a></h2>
      </header>
      <div><p>argparse是Python用于解析命令行参数的模块，拥有更强大的功能、更友好的使用方法，用来替代原始的sys.argv。</p>
<p>argparse的大致用法如下：</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">argparse</span> <span class="c1">#导入模块</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span> <span class="c1">#创建解析器</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">()</span> <span class="c1">#添加参数</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span> <span class="c1">#解析参数</span>
</pre></div>
<p>创建解析器时的可选参数很多，但没有特殊需求的情况下，默认参数就能很好的工作，所以这部分使用时临时查文档就能解决，不做过多记录。</p>
<p>这里仅记录下添加参数时的各种选项搭配，使用方法和选项如下：</p>
<div class="highlight"><pre><span></span><span class="n">ArgumentParser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="n">name</span> <span class="ow">or</span> <span class="n">flags</span><span class="o">...</span><span class="p">[,</span> <span class="n">action</span><span class="p">][,</span> <span class="n">nargs</span><span class="p">][,</span> <span class="n">const</span><span class="p">][,</span> <span class="n">default</span><span class="p">][,</span> <span class="nb">type</span><span class="p">][,</span> <span class="n">choices</span><span class="p">][,</span> <span class="n">required</span><span class="p">][,</span> <span class="n">help</span><span class="p">][,</span> <span class="n">metavar</span><span class="p">][,</span> <span class="n">dest</span><span class="p">])</span>
</pre></div>
<p>每一个参数的含义：</p>
<blockquote>
<ul>
<li>name or flags - 名称或选项字符串列表，例如。foo或-f,&nbsp;&mdash;foo …</li></ul></blockquote></div>
      <div><a class="btn btn-primary" href="https://www.solarck.com/argparse-brief-usage.html"><strong>➟ 查看全文</strong></a></div>
    </article>
    <hr/>
    <article>
      <header>
        <h2><a href="https://www.solarck.com/matplotlib-chinese-fonts.html" rel="bookmark" title="Permalink to matplotlib中文字体配置">matplotlib中文字体配置</a></h2>
      </header>
      <div><p>matplotlib是Python的优秀绘图包，但是不论是在Windows还是Linux中默认都是不支持中文的，尤其是在Linux中设置更加复杂一点，设置方法如下：</p>
<p>首先我们需要获取到matplotlib配置文件的文件夹</p>
<div class="highlight"><pre><span></span>python -c <span class="s2">"import matplotlib as mpl;print(mpl.get_configdir())"</span>
/home/kevin/.config/matplotlib
</pre></div>
<!--more-->
<p>然后需要一个默认的matplotlibrc文件用于修改</p>
<div class="highlight"><pre><span></span>python -c <span class="s2">"import matplotlib as mpl;print(mpl.matplotlib_fname())"</span>
/opt/anaconda/lib/python3.6/site-packages/matplotlib/mpl-data/matplotlibrc
</pre></div>
<p>这个位置会根据每个人安装位置不同而改变</p>
<p>然后把默认的rc文件拷贝到用户的配置文件夹</p>
<div class="highlight"><pre><span></span>cp /opt/anaconda/lib/python3.6/site-packages/matplotlib/mpl-data/matplotlibrc ~/.config …</pre></div></div>
      <div><a class="btn btn-primary" href="https://www.solarck.com/matplotlib-chinese-fonts.html"><strong>➟ 查看全文</strong></a></div>
    </article>
    <hr/>
    <article>
      <header>
        <h2><a href="https://www.solarck.com/linux-desktop-entries.html" rel="bookmark" title="Permalink to 自定义Linux桌面启动程序">自定义Linux桌面启动程序</a></h2>
      </header>
      <div><p>Anaconda自带的Spyder是一个我最喜欢使用的IDE，对于科学计算有很好的支持，但是在Linux上它并没有自带.desktop文件，所以并不能在程序列表里找到，每次都要手动在命令行执行才能开启，非常不方便，所以决定自己搜索下方法，自己给它添加一个桌面快捷方式。</p>
<p>Linux的主流DE的桌面文件都遵循<a href="https://specifications.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html#recognized-keys">桌面配置项规范</a>，按照这个规范配置一个相应的.desktop文件，放在指定的目录即可，当然你也可以放在<code>~/.local/share/applications/</code>目录里，这样这个快捷方式只针对当前用户。</p>
<!--more-->
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">vim</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">applications</span><span class="o">/</span><span class="n">spyder</span><span class="p">.</span><span class="n">desktop</span>

<span class="p">[</span><span class="n">Desktop</span> <span class="n">Entry</span><span class="p">]</span>
<span class="n">Version</span><span class="o">=</span><span class="mf">1.0</span>
<span class="n">Type</span><span class="o">=</span><span class="n">Application</span>
<span class="n">Name</span><span class="o">=</span><span class="n">Spyder</span>
<span class="n">GenericName</span><span class="o">=</span><span class="n">Spyder</span>
<span class="n">Comment</span><span class="o">=</span><span class="n">Scientific</span> <span class="n">Python</span> <span class="n">Development</span> <span class="n">EnviRonment</span>
<span class="n">TryExec</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">anaconda</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">spyder</span>
<span class="n">Exec</span><span class="o">=/</span><span class="n">opt …</span></pre></div></div>
      <div><a class="btn btn-primary" href="https://www.solarck.com/linux-desktop-entries.html"><strong>➟ 查看全文</strong></a></div>
    </article>
    <hr/>
    <article>
      <header>
        <h2><a href="https://www.solarck.com/shadowsocks-libev.html" rel="bookmark" title="Permalink to VPS搭梯子指南——shadowsocks+BBR+obfs">VPS搭梯子指南——shadowsocks+<span class="caps">BBR</span>+obfs</a></h2>
      </header>
      <div><p>近期开会导致墙越来越高，迫不得已升级自建的ss服务，由于shadowsocks原版已经停更，shadowsocksR也已经删库，所以就锁定libev版本。
<strong><em>注：以下服务器端内容请切换到root操作</em></strong></p>
<h3 id="1-sheng-ji-debian">1.&nbsp;升级Debian</h3>
<p>在升级之前，我需要先把服务器从Debian 8升级到Debian&nbsp;9，如果不是Debian用户，或者不想升级的可以跳过，这一步不影响后续操作，但是部分代码可能需要修改。</p>
<p>首先要把Debian&nbsp;8升级到最新版本</p>
<div class="highlight"><pre><span></span>apt update
apt upgrade
</pre></div>
<p>备份源列表</p>
<div class="highlight"><pre><span></span>cp /etc/apt/sources.list /etc/apt/sources.list-jessie
</pre></div>
<p>修改源列表，把jessie 替换为&nbsp;stretch</p>
<div class="highlight"><pre><span></span>vim /etc/apt/sources.list
:s/jessie/stretch/g
</pre></div>
<p>再次更新升级</p>
<div class="highlight"><pre><span></span> apt update
 apt …</pre></div></div>
      <div><a class="btn btn-primary" href="https://www.solarck.com/shadowsocks-libev.html"><strong>➟ 查看全文</strong></a></div>
    </article>
    <hr/>
    <article>
      <header>
        <h2><a href="https://www.solarck.com/config-pip-conda.html" rel="bookmark" title="Permalink to 配置pip和conda">配置pip和conda</a></h2>
      </header>
      <div><p>首先需要确认已经安装Python环境，建议用于科学计算的朋友下载安装<a href="https://www.anaconda.com/download/">Anaconda</a>或者<a href="https://conda.io/miniconda.html">Miniconda</a>。</p>
<h3 id="huan-jing-bian-liang-he-qi-yong-pei-zhi">环境变量和启用配置</h3>
<p>安装好后还需要把安装路径添加到系统环境变量</p>
<p>Linux用户查看系统环境变量</p>
<div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="nv">$PATH</span>
</pre></div>
<p>Windows用户查看系统环境变量</p>
<div class="highlight"><pre><span></span><span class="nb">echo</span> %PATH%
</pre></div>
<p>如果没有Anaconda的路径，就需要自己手动添加</p>
<p>Linux用户编辑~/.bashrc，在最后添加以下内容，注意自己修改安装路径</p>
<div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/anaconda3/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</pre></div>
<p>最后再执行</p>
<div class="highlight"><pre><span></span><span class="nb">source</span> ~/.bashrc
</pre></div>
<p>如果没有效果，可是尝试编辑~/.profile或 ~/.bash_profile文件&nbsp;zsh或其他shell用户可以自行修改</p>
<p>Windows用户在cmd执行如下命令，如果不是默认安装到用户目录，需要手动修改下路径。如果创建了自定义env，那么root改为你自己的env名字。</p>
<div class="highlight"><pre><span></span><span class="nb">set</span> <span class="nv">PATH</span><span class="o">=</span>%USERPROFILE%<span class="se">\A</span>naconda3<span class="p">;</span>%USERPROFILE%<span class="se">\A</span>naconda3<span class="se">\L</span>ibrary<span class="se">\b</span>in …</pre></div></div>
      <div><a class="btn btn-primary" href="https://www.solarck.com/config-pip-conda.html"><strong>➟ 查看全文</strong></a></div>
    </article>
    <hr/>

  <nav>
    <ul class="pagination">
        <li>
          <a href="https://www.solarck.com/index2.html"
              aria-label="Previous" rel="prev">
            <span aria-hidden="true">&larr;</span>
          </a>
        </li>

<li class="">
            <a href="https://www.solarck.com/index.html"
              rel="
 first ">
              1
            </a>
          </li>
<li class="">
            <a href="https://www.solarck.com/index2.html"
              rel="
 prev ">
              2
            </a>
          </li>
<li class="active">
            <a href="https://www.solarck.com/index3.html"
              rel="
">
              3
                <span class="sr-only">(current)</span>
            </a>
          </li>
<li class="">
            <a href="https://www.solarck.com/index4.html"
              rel="
 last  next ">
              4
            </a>
          </li>

        <li>
          <a href="https://www.solarck.com/index4.html"
              aria-label="Next" rel="next">
            <span aria-hidden="true">&rarr;</span>
          </a>
        </li>
    </ul>
  </nav>

        </div>


      </div>

    </div>

    <!-- TODO: make footer sticky -->
    <footer class="container-fluid">
      <div class="container">
        <div class="row">

            <div class="col-md-2">
            </div>
            <div class="col-md-2">
                <h5>链接</h5>
                <ul class="list-unstyled">
                  <li>  <a href="http://getpelican.com/">
      <img src="https://besticon-demo.herokuapp.com/icon?url=getpelican.com&size=16" width="16" height="16" class="icon" alt="getpelican.com icon"/>
    Pelican
  </a></li>
                  <li>  <a href="http://python.org/">
      <img src="https://besticon-demo.herokuapp.com/icon?url=python.org&size=16" width="16" height="16" class="icon" alt="python.org icon"/>
    Python.org
  </a></li>
                  <li>  <a href="http://jinja.pocoo.org/">
      <img src="https://besticon-demo.herokuapp.com/icon?url=jinja.pocoo.org&size=16" width="16" height="16" class="icon" alt="jinja.pocoo.org icon"/>
    Jinja2
  </a></li>
                </ul>
            </div>

          <div class="col-md-2">
            <h5>归档</h5>
            <ul class="list-unstyled">
                <li><a href="https://www.solarck.com/categories.html"><i class="fa fa-tags"></i> Categories</a></li>
                <li><a href="https://www.solarck.com/archives.html"><i class="fa fa-calendar"></i> Dates</a></li>
                <li><a href="https://www.solarck.com/tags.html"><i class="fa fa-tag"></i> Tags</a></li>
            </ul>
          </div>

          <div class="col-md-2 text-muted">
            <h5>Copyright</h5>
            <p>© Copyright 2013-2018 Kevin Chen.</p>
          </div>
        <!--
          <div class="col-md-2 text-muted">
            <h5>Disclaimer</h5>
              <p>All opinions expressed in this site are my own personal opinions and are not endorsed by, nor do they represent the opinions of my previous, current and future employers or any of its affiliates, partners or customers.</p>
          </div>
        -->
          <div class="col-md-2">
              <h5>Feeds</h5>
              <ul class="list-unstyled">
                  <li><small><a href="https://www.solarck.com/feeds/all.atom.xml"><i class="fa fa-rss"></i> All posts (Atom)</a></small></li>
              </ul>
          </div>

        </div>
      </div>

      <h5 class="text-right"><a href="#"><i class="fa fa-arrow-up"></i> Back to top</a></h5>

      <div class="container">
        <div class="row col-md-12 text-muted text-center">
          Site generated by <a href="https://getpelican.com"> Pelican</a>.<br/>
          <a href="https://github.com/kdeldycke/plumage"> Plumage</a> theme by <a href="https://kevin.deldycke.com">Kevin Deldycke</a>.
        </div>
      </div>

    </footer>

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1337838-7', 'auto');
    ga('send', 'pageview');
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fitvids/1.1.0/jquery.fitvids.min.js"></script>
    <script src="https://www.solarck.com/theme/js/jquery.mglass.js"></script>
    <script src="https://www.solarck.com/theme/js/application.js"></script>

  </body>
</html>